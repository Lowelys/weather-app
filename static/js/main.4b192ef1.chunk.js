(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{41:function(e,t,a){e.exports=a(69)},46:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),d=(a(46),a(9),a(12)),o=a(10),u=a.n(o),p=a(15),l=a(4),s=a(16),m=a.n(s),h=function(e,t){return m.a.get("https://api.weatherbit.io/v2.0/current?city=".concat(e,"&key=").concat(t))},E=function(e,t){return m.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(e,"&appid=").concat(t))},f={status:"not_init",city:"",selected:"OpenWeatherMap",OpenWeatherMap:{API_KEY:"afd50c82c815280ad3944fafd7c6b351",data:{temp:void 0,pressure:void 0,humidity:void 0,windSpeed:void 0}},Weatherbit:{API_KEY:"31c487a615d04fe8a0124e2ba29b0cca",data:{temp:void 0,pressure:void 0,humidity:void 0,windSpeed:void 0}}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WD/CHANGE_CITY":return Object(l.a)(Object(l.a)({},e),{},{city:t.value});case"WD/SET_WEATHER_FROM_OWN":var a={temp:t.temp,pressure:t.pressure,humidity:t.humidity,windSpeed:t.windSpeed};return Object(l.a)(Object(l.a)({},e),{},{OpenWeatherMap:Object(l.a)(Object(l.a)({},e.OpenWeatherMap),{},{data:a})});case"SET_WEATHER_FROM_WEATHER_BIT":var n={temp:t.temp,pressure:t.pressure,humidity:t.humidity,windSpeed:t.windSpeed};return Object(l.a)(Object(l.a)({},e),{},{Weatherbit:Object(l.a)(Object(l.a)({},e.Weatherbit),{},{data:n})});case"WD/CHANGE_SELECTED":return Object(l.a)(Object(l.a)({},e),{},{selected:t.value});default:return e}},W=a(19),b=a(33);function O(){var e=Object(b.a)(["\n\nheight:32px;\nbackground-color: ","; \ntext-align: center;\nfont-size: 16px;\nborder: solid 1px black;\nwidth: 200px;\ncursor: ",";\ncolor: white;\nline-height:32px;\nmargin-right: 10px;\n:hover{\n    background-color: #2E308E;\n}"]);return O=function(){return e},e}var y=a(34).a.div(O(),(function(e){return e.selected?"#1C186E":"#3B3DB8"}),(function(e){return e.selected?"default":"pointer"})),g=function(e){var t=Object(n.useState)(!1),a=Object(W.a)(t,2),c=a[0],i=a[1],d=Object(n.useState)(!1),o=Object(W.a)(d,2),u=o[0],p=o[1];Object(n.useEffect)((function(){"OpenWeatherMap"===e.selected&&e.temp&&i(!0)}),[e.temp]);return r.a.createElement("form",{className:"formWeath"},r.a.createElement("input",{type:"text",name:"city",placeholder:"city",value:e.city,onChange:function(t){e.changeCity(t.currentTarget.value)}}),r.a.createElement("button",{type:"button",onClick:function(){e.city?(e.getWeatherFromOpenWeatherMap(),e.getWeatherFromWeatherbit()):alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0433\u043e\u0440\u043e\u0434")}},"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u0432\u043e\u0434\u043a\u0443"),r.a.createElement("div",{className:"source"},r.a.createElement("div",{className:"sourceText"},"\u043e\u043d\u043b\u0430\u0439\u043d \u0441\u0435\u0440\u0432\u0438\u0441:"),r.a.createElement("div",{className:"sourceButton"},r.a.createElement(y,{selected:c,onClick:function(){e.changeSelected("OpenWeatherMap"),i(!0),p(!1)}},"Open Weather Map"),r.a.createElement(y,{selected:u,onClick:function(){e.changeSelected("Weatherbit"),i(!1),p(!0)}},"Weather Bit"))))},w=function(e){return r.a.createElement(r.a.Fragment,null,e.data.temp&&r.a.createElement("div",{className:"infoWeath"},r.a.createElement("p",null,"\u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430, \xb0C: ",e.data.temp),r.a.createElement("p",null,"\u0434\u0430\u0432\u043b\u0435\u043d\u0438\u0435, \u043c\u0431\u0430\u0440: ",e.data.pressure),r.a.createElement("p",null,"\u0432\u043b\u0430\u0436\u043d\u043e\u0441\u0442\u044c, %: ",e.data.humidity),r.a.createElement("p",null,"\u0441\u043a\u043e\u0440\u043e\u0441\u0442\u044c \u0432\u0435\u0442\u0440\u0430, \u043c/\u0441: ",e.data.windSpeed)))},j=function(e){return r.a.createElement("div",{className:"myWeatherApp"},r.a.createElement("h2",null,"\u041f\u043e\u0433\u043e\u0434\u0430"),r.a.createElement("p",null,"\u0423\u0437\u043d\u0430\u0439 \u043f\u043e\u0433\u043e\u0434\u0443 \u0432 \u0442\u0432\u043e\u0435\u043c \u0433\u043e\u0440\u043e\u0434\u0435!"))},_=function(e){return"OpenWeatherMap"===e.data.selected?e.data.OpenWeatherMap.data:"Weather"===e.data.selected?e.data.Weatherbit.data:e.data.OpenWeatherMap.data},S=Object(d.b)((function(e){return{city:e.data.city,data:_(e),selected:e.data.selected}}),(function(e){return{getWeatherFromOpenWeatherMap:function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=a(),e.next=4,E(n.data.city,n.data.OpenWeatherMap.API_KEY);case 4:r=e.sent,t((c=Math.round(r.data.main.temp-273),i=r.data.main.pressure,d=r.data.main.humidity,o=r.data.wind.speed,{type:"WD/SET_WEATHER_FROM_OWN",temp:c,pressure:i,humidity:d,windSpeed:o})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),alert(e.t0.response.data.message);case 11:case"end":return e.stop()}var c,i,d,o}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}())},changeCity:function(t){return e(function(e){return{type:"WD/CHANGE_CITY",value:e}}(t))},getWeatherFromWeatherbit:function(){e(function(){var e=Object(p.a)(u.a.mark((function e(t,a){var n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),e.next=3,h(n.data.city,n.data.Weatherbit.API_KEY);case 3:(r=e.sent).data&&(c=r.data.data[0],t((i=Math.round(c.temp),d=c.pres,o=c.rh,u=c.wind_spd,{type:"SET_WEATHER_FROM_WEATHER_BIT",temp:i,pressure:d,humidity:o,windSpeed:u})));case 5:case"end":return e.stop()}var i,d,o,u}),e)})));return function(t,a){return e.apply(this,arguments)}}())},changeSelected:function(t){return e(function(e){return{type:"WD/CHANGE_SELECTED",value:e}}(t))}}}))((function(e){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"info"},r.a.createElement(j,{data:e.data})),r.a.createElement("div",{className:"form"},r.a.createElement(g,{getWeatherFromOpenWeatherMap:e.getWeatherFromOpenWeatherMap,city:e.city,changeCity:e.changeCity,getWeatherFromWeatherbit:e.getWeatherFromWeatherbit,changeSelected:e.changeSelected,selected:e.selected,temp:e.data.temp}),r.a.createElement(w,{data:e.data})))))}));var M=function(){return r.a.createElement("div",null,r.a.createElement(S,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var C=a(40),T=a(8),N=a(38),x=Object(T.c)({data:v}),A=Object(T.d)(x,Object(T.a)(N.a));window.store=A;var k=A;i.a.render(r.a.createElement(d.a,{store:k},r.a.createElement(C.a,null,r.a.createElement(M,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){}},[[41,1,2]]]);
//# sourceMappingURL=main.4b192ef1.chunk.js.map